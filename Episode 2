<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Last Echo of Silence - Episode 2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lora:ital,wght@0,400;0;500;1,400&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Lora', serif;
            background-color: #0c0a09;
        }
        h1, h2, h3, h4 {
            font-family: 'Cinzel', serif;
        }
        .story-container {
            animation: pulse-violet 10s infinite alternate;
        }
        @keyframes pulse-violet {
            0% { box-shadow: 0 0 15px 0 rgba(139, 92, 246, 0.05), 0 0 30px 0 rgba(124, 58, 237, 0.05); }
            50% { box-shadow: 0 0 25px 3px rgba(139, 92, 246, 0.1), 0 0 40px 5px rgba(124, 58, 237, 0.1); }
            100% { box-shadow: 0 0 15px 0 rgba(139, 92, 246, 0.05), 0 0 30px 0 rgba(124, 58, 237, 0.05); }
        }
        p { line-height: 1.8; }
        .lore-term {
            cursor: pointer;
            text-decoration: underline;
            text-decoration-style: dotted;
            text-underline-offset: 3px;
            color: #c4b5fd;
            transition: color 0.2s;
        }
        .lore-term:hover {
            color: #a78bfa;
        }
        .scrolls-extract {
            border-left: 3px solid #ca8a04;
            padding: 1rem;
            margin: 2rem 0;
            background-color: rgba(77, 55, 1, 0.1);
            border-radius: 0 8px 8px 0;
        }
        .scrolls-extract h4 {
            color: #fde047;
            font-weight: bold;
            margin-bottom: 0.75rem;
        }
        .scrolls-extract p {
            font-size: 0.9rem;
            color: #d6d3d1;
            font-style: italic;
        }
        #modal-overlay {
            transition: opacity 0.3s ease-in-out;
        }
        #modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-stone-950 text-gray-300 selection:bg-violet-500 selection:text-white">

    <div class="min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8">
        <div class="story-container max-w-3xl w-full bg-stone-900/50 backdrop-blur-sm rounded-xl p-8 sm:p-12 lg:p-16 border border-violet-900/30 transition-shadow duration-500">
            
            <header class="text-center mb-12">
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-300 tracking-widest leading-tight">The Last Echo of Silence</h1>
                <h2 class="text-xl sm:text-2xl text-gray-400 mt-2 tracking-wider">Episode 2: The Sound of the City</h2>
            </header>

            <main class="space-y-6 text-gray-300 text-base sm:text-lg">
                 <p>
                    The <span class="lore-term">Egregore</span> did not need to attack. It savored its victory, holding Kaelen's gaze as its form pulsed with his own reflected terror. Then, as the first rays of dawn touched the monastery peaks, the creature dissolved. It vanished like a cut signal, leaving behind only the smell of ozone and the deep, psychic scar of its presence.
                </p>
                <p>
                    Kaelen remained on his knees, the returning silence feeling hollow, a photograph of a peace no longer real.
                </p>
                <p>
                    "It was a herald," Lyra said, her true voice a balm after the Egregore's mockery. "It came not just to measure our strength, but to find our weakness. It found the crack in your conviction, Kaelen."
                </p>
                <p>
                    "It used my doubt against me," Kaelen stated. It was a simple observation. "I could not find the <span class="lore-term">Silence</span>, Lyra. It felt... locked away."
                </p>
                <p>
                    "The <span class="lore-term">Silence</span> is not a place you can be locked out of," she corrected softly. "It is the sky, and you have become fascinated by a single, powerful cloud. You cannot fight the cloud. You must remember you are the sky." She looked down, past the clouds, toward the distant, unseen heart of the world. "That herald was a weapon, fired by the architect of this storm. You must go to the source."
                </p>
                <p>
                    "To the city of Meridian," Kaelen said. It wasn't a question.
                </p>
                <p>
                    Lyra nodded. "The storm's eye is there. The fear is greatest there. That is where the '<span class="lore-term">Murmuring King</span>,' as the whispers call it, has made its throne. Your training here is complete, Kaelen. The quiet has taught you all it can. Now you must go down into the noise and learn to hear the <span class="lore-term">Silence</span> when it is drowned out by a million screaming voices. You must understand the world you have sworn to protect."
                </p>
                <p>
                    The journey down the mountain was a descent into sensory chaos. The pure harmony of the peak fractured into a million sounds, a million thoughts. He kept his hood low, focusing on the simple sensation of his feet on the ground. Be here. Now. The stone is real. The breath is real. The stories are just stories.
                </p>
                <p>
                    Meridian. The psychic noise hit him with the force of a physical blow. A thousand simultaneous conversations shouted inside his head. Worry about money. Longing for a lost love. Anger at a cheating merchant. It was overwhelming. He staggered, leaning against a wall, the cacophony threatening to dissolve his sense of self. It was a siren song promising an end to the struggle of individuality.
                </p>
                <p>
                    He fought to observe. To not get entangled. He was a rock, and this was the river. But the river was threatening to erode the rock to sand. He pushed himself into the current, letting the surface thoughts flow past him, listening for the deeper frequency, the coherent signal of the <span class="lore-term">Murmuring King</span>.
                </p>
                <p>
                    Then he saw it. In a crowded market square, the aggregate greed and frustration of the crowd were coalescing, the air shimmering with malevolent energy.
                </p>
                <p>
                    A new <span class="lore-term">Egregore</span> was manifesting. No one else could see it yet, but Kaelen saw it clearly. A coiled thing, made of shadows and envy. And as he watched, paralyzed, it turned its newly formed head, its glowing violet eyes fixing directly on him. It had felt his presence. And it was hungry.
                </p>
                <p class="italic text-gray-400 text-center">
                    The creature hissed, a silent, psychic vibration of pure malice, and the chaos of the marketplace intensified around it.
                </p>

                <div class="scrolls-extract">
                    <h4>From the Sunstone Scrolls: On Purpose</h4>
                    <p>
                        <strong>The Principle of the Forge:</strong> A blade is not tested in the armory, but in the heat of battle. A belief held in the safety of a sanctuary is merely an idea. A belief tested in the heart of the chaos it opposes becomes a conviction. The city is Kaelen's forge.
                    </p>
                    <p class="mt-4">
                        <strong>The Parable of the Lighthouse:</strong> A lighthouse is not built for its own sake, but for the ships lost in the storm. Its purpose is defined by the darkness it stands against. Kaelen's journey into Meridian is not a punishment for his failure, but the true beginning of his purpose: to be a point of stillness in a world drowning in noise.
                    </p>
                </div>
            </main>
        </div>
    </div>

    <!-- Modal for Lore Terms -->
    <div id="modal-overlay" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div id="modal-content" class="bg-stone-900 border border-violet-700 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative opacity-0 transform scale-95">
            <button id="close-modal-btn" class="absolute top-3 right-4 text-gray-400 hover:text-white text-3xl">&times;</button>
            <div id="modal-body">
                <!-- Content will be injected here -->
            </div>
        </div>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- PRE-WRITTEN LORE (WORKS OFFLINE) ---
        const loreData = {
            "Silence": "More than the absence of sound, the Great Silence is the fundamental state of pure awareness. It is the cosmic foundation that the monks of Sunstone cultivate to maintain balance in a world drowning in thought.",
            "Egregore": "A powerful and dangerous thought-form. An Egregore is born when a collective emotion, such as mass fear or anger, becomes so concentrated that it gains a monstrous, semi-sentient existence of its own.",
            "Murmuring King": "The supposed architect of the psychic storm affecting the world. It is a rival power that seeks not to quell the world's mental noise, but to control it, turning collective fear into a weapon and a throne of power in Meridian."
        };

        // --- Modal Elements ---
        const modalOverlay = document.getElementById('modal-overlay');
        const modalContent = document.getElementById('modal-content');
        const modalBody = document.getElementById('modal-body');
        const closeModalBtn = document.getElementById('close-modal-btn');

        // --- Event Listeners ---
        document.querySelectorAll('.lore-term').forEach(term => {
            term.addEventListener('click', handleLoreClick);
        });
        closeModalBtn.addEventListener('click', hideModal);
        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) hideModal();
        });

        // --- Modal Functions ---
        function showModal(content) {
            modalBody.innerHTML = '';
            modalBody.appendChild(content);
            modalOverlay.classList.remove('opacity-0', 'pointer-events-none');
            modalContent.classList.remove('opacity-0', 'scale-95');
        }

        function hideModal() {
            modalOverlay.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('opacity-0', 'scale-95');
        }

        // --- Handlers ---
        function handleLoreClick(event) {
            event.stopPropagation();
            const term = event.target.textContent.trim().replace(/'/g, ''); // Clean the term
            const loreText = loreData[term] || "No information found for this term.";
            const loreContainer = document.createElement('div');
            loreContainer.innerHTML = `
                <h3 class="text-2xl font-bold text-violet-300 mb-4">${term}</h3>
                <p class="text-gray-300">${loreText}</p>
            `;
            showModal(loreContainer);
        }
    });
</script>
</body>
</html>
